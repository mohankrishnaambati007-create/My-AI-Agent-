<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MY AI AGENT | Job Discovery for All Majors</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸš€</text></svg>">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;700&family=Syne:wght@700&display=swap" rel="stylesheet">
    <style>
        :root{--void:#000;--cosmos:#0a0a0f;--nebula:#12121a;--aurora-1:#00f5d4;--aurora-2:#00bbf9;--aurora-3:#9b5de5;--aurora-4:#f15bb5;--aurora-5:#fee440;--ghost:rgba(255,255,255,0.03);--whisper:rgba(255,255,255,0.06);--fog:rgba(255,255,255,0.24);--cloud:rgba(255,255,255,0.48);--pure:#fff}
        *{margin:0;padding:0;box-sizing:border-box}body{font-family:'Outfit',sans-serif;background:var(--void);color:var(--pure);min-height:100vh}
        header{position:fixed;top:0;left:0;right:0;height:54px;background:rgba(0,0,0,0.95);display:flex;align-items:center;justify-content:space-between;padding:0 14px;border-bottom:1px solid var(--ghost);z-index:100}
        .logo{display:flex;align-items:center;gap:8px}.logo-text{font-family:'Syne';font-size:1rem;font-weight:700}
        .stats{display:flex;gap:10px;font-size:0.6rem;color:var(--fog)}.stat-val{color:var(--pure);font-weight:700}
        .menu-btn{display:none;background:none;border:none;color:var(--pure);font-size:1.3rem;cursor:pointer}
        main{margin-top:54px;display:flex}
        .sidebar{width:280px;background:var(--cosmos);padding:12px;overflow-y:auto;position:fixed;top:54px;left:0;bottom:0;z-index:50;transition:transform 0.3s}
        .stitle{font-size:0.55rem;letter-spacing:0.1em;text-transform:uppercase;color:var(--fog);margin:10px 0 6px}
        .stitle:first-child{margin-top:0}
        .search,.select{width:100%;padding:8px 10px;background:var(--ghost);border:1px solid var(--whisper);border-radius:6px;color:var(--pure);font-size:0.8rem;outline:none}
        .search:focus,.select:focus{border-color:var(--aurora-1)}
        .select{cursor:pointer;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10' fill='%23fff' viewBox='0 0 16 16'%3E%3Cpath d='M8 11L3 6h10z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 8px center}
        .filters{display:flex;flex-wrap:wrap;gap:4px}
        .fbtn{padding:4px 9px;background:var(--ghost);border:1px solid var(--whisper);border-radius:20px;color:var(--cloud);font-size:0.68rem;cursor:pointer}
        .fbtn:hover{background:var(--whisper)}.fbtn.active{background:var(--aurora-1);color:var(--void);border-color:transparent}
        .vpanel{background:var(--nebula);border:1px solid var(--whisper);border-radius:8px;padding:10px;margin-top:10px}
        .vtitle{font-weight:700;font-size:0.78rem;margin-bottom:8px}
        .trow{display:flex;justify-content:space-between;align-items:center;padding:4px 0;border-bottom:1px solid var(--ghost);font-size:0.7rem;color:var(--cloud)}
        .trow:last-child{border:none}
        .toggle{width:34px;height:17px;background:#1a1a24;border-radius:9px;position:relative;cursor:pointer}
        .toggle::after{content:'';position:absolute;top:2px;left:2px;width:13px;height:13px;background:var(--fog);border-radius:50%;transition:0.2s}
        .toggle.on{background:var(--aurora-1)}.toggle.on::after{left:19px;background:var(--void)}
        .clrbtn{width:100%;padding:7px;margin-top:10px;background:transparent;border:1px solid var(--aurora-4);border-radius:5px;color:var(--aurora-4);font-size:0.72rem;cursor:pointer}
        .clrbtn:hover{background:var(--aurora-4);color:var(--void)}
        .content{flex:1;padding:14px;margin-left:280px}
        .cheader{display:flex;justify-content:space-between;align-items:center;margin-bottom:14px;flex-wrap:wrap;gap:8px}
        .ctitle{font-family:'Syne';font-size:1.4rem;font-weight:700}
        .csub{color:var(--fog);font-size:0.78rem}.csub span{color:var(--aurora-1)}
        .sortsel{padding:6px 8px;background:var(--ghost);border:1px solid var(--whisper);border-radius:5px;color:var(--pure);font-size:0.72rem}
        .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:12px}
        .card{background:linear-gradient(145deg,var(--nebula),var(--cosmos));border:1px solid var(--whisper);border-radius:10px;padding:12px;cursor:pointer;transition:0.2s}
        .card:hover{transform:translateY(-2px);border-color:var(--aurora-1)}
        .cardh{display:flex;justify-content:space-between;margin-bottom:8px}
        .clogo{width:34px;height:34px;border-radius:6px;background:linear-gradient(135deg,var(--aurora-1),var(--aurora-2));display:flex;align-items:center;justify-content:center;font-weight:700;font-size:0.65rem;color:var(--void)}
        .cname{font-weight:600;font-size:0.78rem}.cind{font-size:0.62rem;color:var(--fog)}
        .opt{width:36px;height:36px;position:relative}.opt svg{transform:rotate(-90deg)}.opt circle{fill:none;stroke-width:3}.opt .bg{stroke:#1a1a24}.opt .prog{stroke:var(--aurora-1);stroke-linecap:round}
        .opt .val{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:0.58rem;font-weight:700}
        .jtitle{font-size:0.85rem;font-weight:600;margin-bottom:6px;line-height:1.2}
        .jmeta{display:flex;gap:8px;font-size:0.65rem;color:var(--fog);margin-bottom:6px;flex-wrap:wrap}
        .skills{display:flex;flex-wrap:wrap;gap:3px;margin-bottom:6px}
        .skill{padding:2px 6px;background:var(--ghost);border-radius:3px;font-size:0.6rem;color:var(--cloud)}
        .skill.hl{background:rgba(0,245,212,0.15);color:var(--aurora-1)}
        .jfoot{display:flex;justify-content:space-between;padding-top:6px;border-top:1px solid var(--ghost);font-size:0.68rem}
        .sal{color:var(--aurora-1);font-weight:700}.posted{color:var(--fog)}.posted.fresh{color:var(--aurora-1)}
        .badges{display:flex;gap:3px;margin-top:5px;flex-wrap:wrap}
        .badge{padding:2px 5px;border-radius:3px;font-size:0.55rem;font-weight:600}
        .badge.h1b{background:rgba(0,245,212,0.15);color:var(--aurora-1)}
        .badge.opt{background:rgba(254,228,64,0.15);color:var(--aurora-5)}
        .badge.rem{background:rgba(155,93,229,0.15);color:var(--aurora-3)}
        .loading{text-align:center;padding:30px;color:var(--fog)}
        .spinner{width:28px;height:28px;border:3px solid var(--ghost);border-top-color:var(--aurora-1);border-radius:50%;animation:spin 1s linear infinite;margin:0 auto 8px}
        @keyframes spin{to{transform:rotate(360deg)}}
        .loadmore{width:100%;padding:10px;margin-top:14px;background:var(--ghost);border:1px solid var(--whisper);border-radius:6px;color:var(--pure);font-size:0.8rem;cursor:pointer}
        .loadmore:hover{background:var(--aurora-1);color:var(--void)}
        .overlay{display:none;position:fixed;top:54px;left:0;right:0;bottom:0;background:rgba(0,0,0,0.7);z-index:40}
        @media(max-width:800px){.menu-btn{display:block}.stats{display:none}.sidebar{transform:translateX(-100%);width:85%}.sidebar.open{transform:translateX(0)}.overlay.open{display:block}.content{margin-left:0}.grid{grid-template-columns:1fr}}
    </style>
</head>
<body>
<header>
    <div class="logo"><button class="menu-btn" onclick="toggleSidebar()">â˜°</button><span class="logo-text">ğŸš€ MY AI AGENT</span></div>
    <div class="stats"><span>COMPANIES <span class="stat-val" id="compC">0</span></span><span>H1B <span class="stat-val" id="h1bC">0</span></span><span>JOBS <span class="stat-val" id="jobC">0</span></span></div>
</header>
<div class="overlay" onclick="toggleSidebar()"></div>
<main>
<aside class="sidebar" id="sidebar">
    <div class="stitle">ğŸ” SEARCH</div>
    <input class="search" id="search" placeholder="Job, company, skills...">
    <div class="stitle">ğŸŒ COUNTRY</div>
    <select class="select" id="country">
        <option value="all">ğŸŒ All Countries</option>
        <option value="united states">ğŸ‡ºğŸ‡¸ United States</option>
        <option value="remote">ğŸ  Remote Only</option>
        <option value="canada">ğŸ‡¨ğŸ‡¦ Canada</option>
        <option value="united kingdom">ğŸ‡¬ğŸ‡§ UK</option>
        <option value="germany">ğŸ‡©ğŸ‡ª Germany</option>
        <option value="india">ğŸ‡®ğŸ‡³ India</option>
        <option value="australia">ğŸ‡¦ğŸ‡º Australia</option>
        <option value="singapore">ğŸ‡¸ğŸ‡¬ Singapore</option>
        <option value="japan">ğŸ‡¯ğŸ‡µ Japan</option>
        <option value="france">ğŸ‡«ğŸ‡· France</option>
        <option value="netherlands">ğŸ‡³ğŸ‡± Netherlands</option>
        <option value="ireland">ğŸ‡®ğŸ‡ª Ireland</option>
    </select>
    <div class="stitle">ğŸ“ FIELD / MAJOR</div>
    <select class="select" id="major">
        <option value="all">ğŸ“š All Fields</option>
        <option value="software">ğŸ’» Software Engineering</option>
        <option value="data">ğŸ“Š Data Science / AI / ML</option>
        <option value="cybersecurity">ğŸ›¡ï¸ Cybersecurity</option>
        <option value="cloud">â˜ï¸ Cloud / DevOps</option>
        <option value="networking">ğŸŒ Networking / IT</option>
        <option value="product">ğŸ“¦ Product Management</option>
        <option value="design">ğŸ¨ Design / UX</option>
        <option value="business">ğŸ“ˆ Business / Operations</option>
        <option value="finance">ğŸ’° Finance / Accounting</option>
        <option value="marketing">ğŸ“¢ Marketing / Sales</option>
        <option value="hr">ğŸ‘¥ HR / Recruiting</option>
        <option value="legal">âš–ï¸ Legal</option>
        <option value="healthcare">ğŸ¥ Healthcare</option>
        <option value="engineering">âš™ï¸ Mech/Electrical Eng</option>
        <option value="support">ğŸ§ Customer Support</option>
    </select>
    <div class="stitle">â° POSTED</div>
    <div class="filters"><button class="fbtn time active" data-h="0">All</button><button class="fbtn time" data-h="24">24h</button><button class="fbtn time" data-h="48">48h</button><button class="fbtn time" data-h="168">7d</button><button class="fbtn time" data-h="720">30d</button></div>
    <div class="stitle">ğŸ’¼ WORK TYPE</div>
    <div class="filters"><button class="fbtn work active" data-w="all">All</button><button class="fbtn work" data-w="remote">Remote</button><button class="fbtn work" data-w="hybrid">Hybrid</button><button class="fbtn work" data-w="onsite">Onsite</button></div>
    <div class="stitle">ğŸ“‹ JOB TYPE</div>
    <div class="filters"><button class="fbtn jtype active" data-j="all">All</button><button class="fbtn jtype" data-j="fulltime">Full-time</button><button class="fbtn jtype" data-j="intern">Intern</button><button class="fbtn jtype" data-j="contract">Contract</button></div>
    <div class="stitle">ğŸ“Š EXPERIENCE</div>
    <div class="filters"><button class="fbtn exp active" data-e="all">All</button><button class="fbtn exp" data-e="entry">Entry</button><button class="fbtn exp" data-e="mid">Mid</button><button class="fbtn exp" data-e="senior">Senior</button><button class="fbtn exp" data-e="lead">Lead+</button></div>
    <div class="vpanel">
        <div class="vtitle">ğŸ« Visa Filters</div>
        <div class="trow"><span>Hide Citizenship Req</span><div class="toggle on" id="tCit"></div></div>
        <div class="trow"><span>H-1B Sponsors Only</span><div class="toggle" id="tH1b"></div></div>
        <div class="trow"><span>No Clearance</span><div class="toggle on" id="tClr"></div></div>
        <div class="trow"><span>Hide Duplicates</span><div class="toggle" id="tDup"></div></div>
    </div>
    <button class="clrbtn" onclick="clearAll()">ğŸ—‘ï¸ Clear Filters</button>
</aside>
<section class="content">
    <div class="cheader"><div><h1 class="ctitle">Discover Jobs</h1><p class="csub">Showing <span id="showC">0</span> of <span id="totC">0</span></p></div>
    <select class="sortsel" id="sortS"><option value="score">OPT Score</option><option value="recent">Recent</option><option value="company">Company</option></select></div>
    <div class="grid" id="grid"><div class="loading"><div class="spinner"></div>Loading...</div></div>
    <button class="loadmore" id="loadmore" style="display:none" onclick="loadMore()">Load More</button>
</section>
</main>
<script>
const API=location.hostname==='localhost'?'http://localhost:8000':'https://my-ai-agent-5eoe.onrender.com';
let jobs=[],shown=0,PAGE=50;
let F={q:'',country:'all',major:'all',hours:0,work:'all',jtype:'all',exp:'all',h1b:false,hideCit:true,hideClr:true,hideDup:false};
const MKW={software:['software','developer','engineer','fullstack','frontend','backend','java','python','javascript','react','node','mobile','ios','android','golang'],data:['data','analytics','machine learning','ml','ai','scientist','analyst','bi','sql','statistics','deep learning'],cybersecurity:['security','cyber','infosec','soc','penetration','vulnerability','threat','compliance'],cloud:['cloud','aws','azure','gcp','devops','kubernetes','docker','terraform','sre'],networking:['network','cisco','routing','switching','firewall','vpn','administrator','sysadmin'],product:['product manager','product owner','roadmap'],design:['design','ux','ui','figma','sketch','adobe','creative'],business:['business analyst','operations','project manager','program manager','scrum','agile'],finance:['finance','accounting','financial','cpa','audit','tax','investment','banking'],marketing:['marketing','sales','growth','seo','content','social media','brand','account executive'],hr:['human resources','hr','recruiting','recruiter','talent'],legal:['legal','lawyer','compliance','contract','counsel'],healthcare:['healthcare','medical','clinical','biotech','pharmaceutical'],engineering:['mechanical','electrical','hardware','civil','manufacturing','cad'],support:['support','customer success','help desk']};
const EKW={entry:['entry','junior','associate','intern','graduate',' i ','new grad'],mid:['mid','intermediate',' ii','level 2'],senior:['senior','sr',' iii','5+'],lead:['lead','staff','director','manager','chief','architect']};
function toggleSidebar(){document.getElementById('sidebar').classList.toggle('open');document.querySelector('.overlay').classList.toggle('open')}
function closeMob(){if(innerWidth<=800){document.getElementById('sidebar').classList.remove('open');document.querySelector('.overlay').classList.remove('open')}}
function timeAgo(d){const h=Math.floor((new Date()-new Date(d))/3600000);if(h<1)return'Just now';if(h<24)return h+'h';const days=Math.floor(h/24);if(days<30)return days+'d';return Math.floor(days/30)+'mo'}
function optRing(s){const c=2*Math.PI*13,o=c-(s/100)*c,col=s>=70?'var(--aurora-1)':s>=50?'var(--aurora-5)':'var(--aurora-4)';return'<div class="opt"><svg width="36" height="36"><circle class="bg" cx="18" cy="18" r="13"/><circle class="prog" cx="18" cy="18" r="13" stroke="'+col+'" stroke-dasharray="'+c+'" stroke-dashoffset="'+o+'"/></svg><div class="val" style="color:'+col+'">'+s+'</div></div>'}
function card(j){const fresh=(new Date()-new Date(j.posted_date))/3600000<48,rem=(j.work_type||'').toLowerCase()==='remote'||(j.location||'').toLowerCase().includes('remote'),skills=(j.skills||[]).slice(0,3).map((s,i)=>'<span class="skill'+(i<2?' hl':'')+'">'+s+'</span>').join('');return'<article class="card" onclick="window.open(\''+j.apply_url+'\',\'_blank\')"><div class="cardh"><div style="display:flex;gap:8px;align-items:center"><div class="clogo">'+(j.company||'NA').substring(0,2).toUpperCase()+'</div><div><div class="cname">'+(j.company||'Company')+'</div><div class="cind">'+(j.industry||'Tech')+'</div></div></div>'+optRing(j.opt_score||50)+'</div><h3 class="jtitle">'+(j.title||'Job')+'</h3><div class="jmeta"><span>ğŸ“'+(j.location||'TBD').substring(0,25)+'</span><span>ğŸ’¼'+(j.work_type||'Full-time')+'</span></div><div class="skills">'+skills+'</div><div class="jfoot"><span class="sal">'+(j.salary_display||'Competitive')+'</span><span class="posted'+(fresh?' fresh':'')+'">'+(fresh?'â—':'')+timeAgo(j.posted_date)+'</span></div><div class="badges">'+(j.h1b_sponsor_history?'<span class="badge h1b">H-1B</span>':'')+(j.opt_score>=70?'<span class="badge opt">OPT</span>':'')+(rem?'<span class="badge rem">Remote</span>':'')+'</div></article>'}
function matchM(j,m){if(m==='all')return true;const kw=MKW[m]||[],txt=((j.title||'')+' '+(j.description||'')+' '+(j.skills||[]).join(' ')).toLowerCase();return kw.some(k=>txt.includes(k))}
function matchE(j,e){if(e==='all')return true;const kw=EKW[e]||[],t=(j.title||'').toLowerCase();return kw.some(k=>t.includes(k))}
function matchC(j,c){if(c==='all')return true;const loc=(j.location||'').toLowerCase();if(c==='remote')return loc.includes('remote')||(j.work_type||'').toLowerCase()==='remote';return loc.includes(c)}
function matchJ(j,t){if(t==='all')return true;const title=(j.title||'').toLowerCase();if(t==='intern')return title.includes('intern');if(t==='fulltime')return!title.includes('intern')&&!title.includes('contract');return title.includes(t)}
function filter(){let r=jobs.slice();if(F.hours>0){const cut=new Date(Date.now()-F.hours*3600000);r=r.filter(j=>new Date(j.posted_date)>=cut)}r=r.filter(j=>matchC(j,F.country));r=r.filter(j=>matchM(j,F.major));if(F.work!=='all')r=r.filter(j=>(j.work_type||'').toLowerCase()===F.work);r=r.filter(j=>matchJ(j,F.jtype));r=r.filter(j=>matchE(j,F.exp));if(F.h1b)r=r.filter(j=>j.h1b_sponsor_history);if(F.hideCit)r=r.filter(j=>!j.citizenship_required);if(F.hideClr)r=r.filter(j=>!j.clearance_required);if(F.q){const q=F.q.toLowerCase();r=r.filter(j=>(j.title||'').toLowerCase().includes(q)||(j.company||'').toLowerCase().includes(q)||(j.skills||[]).some(s=>s.toLowerCase().includes(q)))}if(F.hideDup){const seen={};r=r.filter(j=>{const k=(j.title||'').toLowerCase()+'|'+(j.company||'').toLowerCase();if(seen[k])return false;seen[k]=true;return true})}return r}
function sort(arr){const s=document.getElementById('sortS').value;return arr.sort((a,b)=>{if(s==='score')return(b.opt_score||0)-(a.opt_score||0);if(s==='recent')return new Date(b.posted_date)-new Date(a.posted_date);return(a.company||'').localeCompare(b.company||'')})}
function render(){let r=sort(filter());shown=Math.min(PAGE,r.length);document.getElementById('showC').textContent=r.length;document.getElementById('totC').textContent=jobs.length;document.getElementById('grid').innerHTML=r.length?r.slice(0,shown).map(card).join(''):'<div class="loading">No jobs match. Adjust filters.</div>';document.getElementById('loadmore').style.display=r.length>shown?'block':'none';if(r.length>shown)document.getElementById('loadmore').textContent='Load More ('+(r.length-shown)+')'}
function loadMore(){let r=sort(filter());shown+=PAGE;document.getElementById('grid').innerHTML=r.slice(0,shown).map(card).join('');document.getElementById('loadmore').style.display=r.length>shown?'block':'none'}
function clearAll(){F={q:'',country:'all',major:'all',hours:0,work:'all',jtype:'all',exp:'all',h1b:false,hideCit:true,hideClr:true,hideDup:false};document.getElementById('search').value='';document.getElementById('country').value='all';document.getElementById('major').value='all';document.querySelectorAll('.fbtn').forEach(b=>b.classList.remove('active'));document.querySelectorAll('[data-h="0"],[data-w="all"],[data-j="all"],[data-e="all"]').forEach(b=>b.classList.add('active'));document.getElementById('tCit').classList.add('on');document.getElementById('tClr').classList.add('on');document.getElementById('tH1b').classList.remove('on');document.getElementById('tDup').classList.remove('on');render();closeMob()}
function updateC(){document.getElementById('jobC').textContent=jobs.length;document.getElementById('compC').textContent=new Set(jobs.map(j=>j.company)).size;document.getElementById('h1bC').textContent=new Set(jobs.filter(j=>j.h1b_sponsor_history).map(j=>j.company)).size}
function fetchJobs(){fetch(API+'/api/jobs?page_size=10000').then(r=>r.json()).then(d=>{jobs=d.jobs||[];updateC();render()}).catch(e=>{document.getElementById('grid').innerHTML='<div class="loading">âš ï¸ API unavailable</div>'})}
document.getElementById('search').addEventListener('input',e=>{F.q=e.target.value;render()});
document.getElementById('country').addEventListener('change',e=>{F.country=e.target.value;render();closeMob()});
document.getElementById('major').addEventListener('change',e=>{F.major=e.target.value;render();closeMob()});
document.getElementById('sortS').addEventListener('change',()=>render());
document.querySelectorAll('.time').forEach(b=>b.addEventListener('click',()=>{document.querySelectorAll('.time').forEach(x=>x.classList.remove('active'));b.classList.add('active');F.hours=+b.dataset.h;render();closeMob()}));
document.querySelectorAll('.work').forEach(b=>b.addEventListener('click',()=>{document.querySelectorAll('.work').forEach(x=>x.classList.remove('active'));b.classList.add('active');F.work=b.dataset.w;render();closeMob()}));
document.querySelectorAll('.jtype').forEach(b=>b.addEventListener('click',()=>{document.querySelectorAll('.jtype').forEach(x=>x.classList.remove('active'));b.classList.add('active');F.jtype=b.dataset.j;render();closeMob()}));
document.querySelectorAll('.exp').forEach(b=>b.addEventListener('click',()=>{document.querySelectorAll('.exp').forEach(x=>x.classList.remove('active'));b.classList.add('active');F.exp=b.dataset.e;render();closeMob()}));
document.getElementById('tCit').addEventListener('click',function(){this.classList.toggle('on');F.hideCit=this.classList.contains('on');render()});
document.getElementById('tH1b').addEventListener('click',function(){this.classList.toggle('on');F.h1b=this.classList.contains('on');render()});
document.getElementById('tClr').addEventListener('click',function(){this.classList.toggle('on');F.hideClr=this.classList.contains('on');render()});
document.getElementById('tDup').addEventListener('click',function(){this.classList.toggle('on');F.hideDup=this.classList.contains('on');render()});
fetchJobs();setInterval(fetchJobs,600000);
</script>
</body>
</html>
